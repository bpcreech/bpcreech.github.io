var D=Object.defineProperty;var E=(m,l,i)=>l in m?D(m,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[l]=i;var n=(m,l,i)=>(E(m,typeof l!="symbol"?l+"":l,i),i);(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&t(h)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();const B={glyphs:{S:{x_min:65,x_max:980,ha:1045,o:"m 963 17 l 963 716 l 65 716 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 733 l 980 733 l 980 0 l 65 0 l 65 17 l 963 17 "},"¦":{x_min:0,x_max:0,ha:1361},"/":{x_min:65.125,x_max:980.296875,ha:1045,o:"m 81 0 l 65 0 l 963 1305 l 980 1305 l 81 0 "},y:{x_min:65.375,x_max:980.546875,ha:1046,o:"m 958 1305 l 980 1305 l 528 716 l 528 0 l 512 0 l 512 716 l 65 1305 l 87 1305 l 519 738 l 958 1305 "},Á:{x_min:0,x_max:0,ha:1361},g:{x_min:65,x_max:980,ha:1045,o:"m 980 1305 l 980 1132 l 963 1132 l 963 1288 l 81 1288 l 81 17 l 963 17 l 963 716 l 292 716 l 292 733 l 980 733 l 980 0 l 65 0 l 65 1305 l 980 1305 "},"²":{x_min:0,x_max:0,ha:1361},"–":{x_min:0,x_max:0,ha:1361},ë:{x_min:0,x_max:0,ha:1361},ƒ:{x_min:0,x_max:0,ha:1361},Î:{x_min:45.1875,x_max:1008.875,ha:1045,o:"m 271 46 l 414 159 l 759 35 l 972 347 l 691 555 l 958 677 l 760 844 l 511 683 l 293 854 l 83 665 l 174 475 l 81 226 l 271 46 m 263 6 l 45 226 l 141 466 l 47 669 l 292 883 l 506 717 l 763 875 l 1005 677 l 739 547 l 1008 352 l 760 6 l 414 130 l 263 6 "},e:{x_min:65,x_max:980.15625,ha:1045,o:"m 81 716 l 81 17 l 980 17 l 980 0 l 65 0 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 733 l 980 733 l 980 716 l 81 716 "},Ã:{x_min:0,x_max:0,ha:1361},J:{x_min:65.453125,x_max:980.609375,ha:1046,o:"m 534 1288 l 534 1305 l 980 1305 l 980 0 l 494 0 l 65 437 l 87 437 l 498 17 l 964 17 l 964 1288 l 534 1288 "},"»":{x_min:261.1875,x_max:863.984375,ha:1045,o:"m 457 1038 l 476 1038 l 863 724 l 476 408 l 457 408 l 845 724 l 457 1038 m 261 1038 l 280 1038 l 668 724 l 280 408 l 261 408 l 649 724 l 261 1038 "},"‐":{x_min:65,x_max:980,ha:1045,o:"m 65 733 l 980 733 l 980 717 l 65 717 l 65 733 "},"©":{x_min:128,x_max:914,ha:1045,o:"m 128 350 l 128 1054 l 522 1110 l 914 1054 l 914 350 l 522 297 l 128 350 m 898 364 l 898 1043 l 522 1095 l 144 1043 l 144 364 l 522 313 l 898 364 m 759 502 l 759 487 l 291 487 l 291 944 l 759 944 l 759 931 l 310 931 l 310 502 l 759 502 "},ò:{x_min:0,x_max:0,ha:1361},"^":{x_min:215,x_max:832,ha:1045,o:"m 832 888 l 525 1285 l 215 888 l 215 907 l 525 1305 l 832 907 l 832 888 "},"«":{x_min:261.1875,x_max:863.984375,ha:1045,o:"m 863 1038 l 476 724 l 863 408 l 845 408 l 457 724 l 845 1038 l 863 1038 m 668 1038 l 280 724 l 668 408 l 649 408 l 261 724 l 649 1038 l 668 1038 "},D:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 552 1305 l 980 869 l 980 434 l 554 0 l 65 0 m 963 863 l 546 1288 l 81 1288 l 81 17 l 548 17 l 963 440 l 963 863 "},"∙":{x_min:0,x_max:0,ha:1361},ÿ:{x_min:0,x_max:0,ha:1361},í:{x_min:0,x_max:0,ha:1361},"ˆ":{x_min:215,x_max:832,ha:1045,o:"m 832 888 l 525 1285 l 215 888 l 215 907 l 525 1305 l 832 907 l 832 888 "},w:{x_min:65,x_max:980,ha:1045,o:"m 525 596 l 963 21 l 963 1304 l 980 1304 l 980 -1 l 963 -1 l 525 570 l 81 0 l 65 0 l 65 1305 l 81 1305 l 81 22 l 525 596 "},$:{x_min:64.84375,x_max:980,ha:1045,o:"m 511 1288 l 81 1288 l 81 733 l 511 733 l 511 1288 m 528 17 l 963 17 l 963 716 l 528 716 l 528 17 m 980 0 l 64 0 l 64 17 l 511 17 l 511 716 l 65 716 l 65 1305 l 980 1305 l 980 1288 l 528 1288 l 528 733 l 980 733 l 980 0 "},"\\":{x_min:65.125,x_max:980.296875,ha:1045,o:"m 65 1305 l 81 1305 l 980 0 l 963 0 l 65 1305 "},Ì:{x_min:72,x_max:1026.453125,ha:1046,o:"m 166 852 l 335 686 l 494 1092 l 835 963 l 1026 545 l 775 282 l 839 126 l 518 2 l 422 373 l 214 119 l 72 180 l 72 563 l 166 852 m 344 651 l 171 810 l 94 545 l 94 198 l 215 145 l 432 414 l 536 33 l 807 137 l 749 288 l 997 541 l 822 936 l 510 1062 l 344 651 "},µ:{x_min:0,x_max:0,ha:1361},Ç:{x_min:13.296875,x_max:1020.828125,ha:1045,o:"m 718 381 l 646 525 l 419 525 l 336 381 l 718 381 m 978 236 l 745 360 l 307 360 l 58 236 l 978 236 m 250 21 l 786 21 l 978 216 l 58 216 l 250 21 m 1020 233 l 796 3 l 237 3 l 13 233 l 307 381 l 406 545 l 658 545 l 745 381 l 1020 233 "},"’":{x_min:0,x_max:0,ha:1361},"-":{x_min:65,x_max:980,ha:1045,o:"m 65 733 l 980 733 l 980 717 l 65 717 l 65 733 "},Q:{x_min:65,x_max:980,ha:1045,o:"m 808 174 l 963 333 l 963 1288 l 81 1288 l 81 17 l 653 17 l 799 166 l 595 374 l 595 391 l 808 174 m 980 0 l 963 0 l 808 158 l 653 0 l 65 0 l 65 1305 l 980 1305 l 980 333 l 816 166 l 980 0 "},M:{x_min:65,x_max:980,ha:1045,o:"m 519 716 l 81 1288 l 81 0 l 65 0 l 65 1305 l 86 1305 l 519 738 l 958 1305 l 980 1305 l 980 0 l 963 0 l 963 1288 l 519 716 "},C:{x_min:65,x_max:980.15625,ha:1045,o:"m 81 17 l 980 17 l 980 0 l 65 0 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 17 "},œ:{x_min:0,x_max:0,ha:1361},"!":{x_min:397,x_max:653,ha:1045,o:"m 413 197 l 413 17 l 636 17 l 636 197 l 413 197 m 397 216 l 653 216 l 653 0 l 397 0 l 397 216 m 530 334 l 514 334 l 514 1305 l 530 1305 l 530 334 "},ç:{x_min:0,x_max:0,ha:1361},È:{x_min:21.859375,x_max:1010.125,ha:1045,o:"m 549 272 l 654 245 l 943 245 l 943 272 l 549 272 m 976 145 l 308 315 l 259 230 l 47 184 l 150 21 l 854 21 l 976 145 m 1010 152 l 859 0 l 144 0 l 21 197 l 240 243 l 296 340 l 498 289 l 959 289 l 959 229 l 714 229 l 1010 152 "},"{":{x_min:196,x_max:849.34375,ha:1045,o:"m 212 17 l 849 17 l 849 0 l 196 0 l 196 1305 l 849 1305 l 849 1288 l 212 1288 l 212 17 "},X:{x_min:65.125,x_max:980.296875,ha:1045,o:"m 958 0 l 519 696 l 87 0 l 65 0 q 152 139 93 44 l 455 625 q 511 716 509 710 l 65 1305 l 87 1305 l 519 735 l 958 1305 l 980 1305 l 528 716 l 980 0 l 958 0 "},ô:{x_min:0,x_max:0,ha:1361},"¼":{x_min:0,x_max:0,ha:1361},"#":{x_min:109,x_max:926,ha:1046,o:"m 316 517 l 718 517 l 718 802 l 316 802 l 316 517 m 718 500 l 316 500 l 316 200 l 300 200 l 300 500 l 109 500 l 109 517 l 300 517 l 300 802 l 109 802 l 109 819 l 300 819 l 300 1105 l 316 1105 l 316 819 l 718 819 l 718 1105 l 735 1105 l 735 819 l 926 819 l 926 802 l 735 802 l 735 517 l 926 517 l 926 500 l 735 500 l 735 200 l 718 200 l 718 500 "},Ê:{x_min:31,x_max:1019.3125,ha:1045,o:"m 435 736 l 1014 736 l 1014 575 l 687 486 l 1019 260 l 792 30 l 686 139 l 291 28 l 31 379 l 31 729 l 294 970 l 679 970 l 435 736 m 995 719 l 392 719 l 632 950 l 298 950 l 55 723 l 55 383 l 301 51 l 690 160 l 793 57 l 988 255 l 649 494 l 995 586 l 995 719 "},")":{x_min:196.3125,x_max:849.609375,ha:1046,o:"m 833 1288 l 196 1288 l 196 1305 l 849 1305 l 849 0 l 196 0 l 196 17 l 833 17 l 833 1288 "},Å:{x_min:197.390625,x_max:862.65625,ha:1045,o:"m 826 59 l 532 925 l 231 59 l 310 165 l 751 165 l 826 59 m 546 933 l 862 0 l 852 0 l 743 148 l 318 148 l 208 0 l 197 0 l 532 971 l 546 933 "},ø:{x_min:0,x_max:0,ha:1361},â:{x_min:0,x_max:0,ha:1361},"}":{x_min:196.3125,x_max:849.609375,ha:1046,o:"m 833 1288 l 196 1288 l 196 1305 l 849 1305 l 849 0 l 196 0 l 196 17 l 833 17 l 833 1288 "},"‰":{x_min:0,x_max:0,ha:1361},Ä:{x_min:65,x_max:980,ha:1045,o:"m 81 994 l 81 733 l 963 733 l 963 994 l 522 1289 l 81 994 m 980 0 l 963 0 l 963 716 l 81 716 l 81 0 l 65 0 l 65 1000 l 522 1305 l 980 1000 l 980 0 m 731 1525 l 980 1525 l 980 1508 l 731 1508 l 731 1525 m 65 1525 l 314 1525 l 314 1508 l 65 1508 l 65 1525 "},"¸":{x_min:0,x_max:0,ha:1361},a:{x_min:65,x_max:980,ha:1045,o:"m 81 994 l 81 733 l 963 733 l 963 994 l 522 1288 l 81 994 m 980 0 l 963 0 l 963 716 l 81 716 l 81 0 l 65 0 l 65 1000 l 522 1305 l 980 1000 l 980 0 "},"—":{x_min:0,x_max:0,ha:1361},"=":{x_min:65,x_max:980,ha:1045,o:"m 65 433 l 980 433 l 980 416 l 65 416 l 65 433 m 65 732 l 980 732 l 980 716 l 65 716 l 65 732 "},N:{x_min:65,x_max:980,ha:1045,o:"m 980 1305 l 980 0 l 963 0 l 963 66 l 81 1221 l 81 0 l 65 0 l 65 1305 l 81 1305 l 81 1243 l 963 88 l 963 1305 l 980 1305 "},"":{x_min:0,x_max:0,ha:1361},ú:{x_min:0,x_max:0,ha:1361},"⁄":{x_min:0,x_max:0,ha:1361},2:{x_min:64.84375,x_max:980.15625,ha:1045,o:"m 64 1288 l 64 1305 l 980 1305 l 980 716 l 81 716 l 81 17 l 980 17 l 980 0 l 65 0 l 65 733 l 963 733 l 963 1288 l 64 1288 "},ü:{x_min:65,x_max:980,ha:1045,o:"m 963 1305 l 980 1305 l 980 0 l 65 0 l 65 1305 l 81 1305 l 81 17 l 963 17 l 963 1305 m 731 1525 l 980 1525 l 980 1508 l 731 1508 l 731 1525 m 65 1525 l 314 1525 l 314 1508 l 65 1508 l 65 1525 "},"¯":{x_min:0,x_max:0,ha:1361},Z:{x_min:65,x_max:980,ha:1045,o:"m 84 17 l 980 17 l 980 0 l 65 0 l 65 22 l 958 1288 l 65 1288 l 65 1305 l 980 1305 l 980 1288 l 84 17 "},u:{x_min:65,x_max:980,ha:1045,o:"m 963 1305 l 980 1305 l 980 0 l 65 0 l 65 1305 l 81 1305 l 81 17 l 963 17 l 963 1305 "},"˜":{x_min:0,x_max:0,ha:1361},Ó:{x_min:0,x_max:0,ha:1361},k:{x_min:65,x_max:980.15625,ha:1045,o:"m 955 1305 l 980 1305 l 86 716 l 980 0 l 955 0 l 81 699 l 81 0 l 65 0 l 65 1305 l 81 1305 l 81 732 l 955 1305 "},Ù:{x_min:0,x_max:0,ha:1361},Ÿ:{x_min:0,x_max:0,ha:1361},"¢":{x_min:0,x_max:0,ha:1361},ß:{x_min:94,x_max:899,ha:1046,o:"m 100 505 l 369 505 l 369 500 l 94 500 l 94 892 l 369 892 l 369 887 l 100 887 l 100 505 m 681 892 l 413 715 l 681 500 l 675 500 l 413 710 l 413 500 l 407 500 l 407 892 l 413 892 l 413 719 l 681 892 m 826 560 l 826 505 l 893 505 l 893 560 l 826 560 m 822 566 l 899 566 l 899 500 l 822 500 l 822 566 m 861 600 l 856 600 l 856 892 l 861 892 l 861 600 "},é:{x_min:0,x_max:0,ha:1361},s:{x_min:65,x_max:980,ha:1045,o:"m 963 17 l 963 716 l 65 716 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 733 l 980 733 l 980 0 l 65 0 l 65 17 l 963 17 "},B:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 653 1305 l 980 972 l 980 849 l 857 724 l 980 600 l 980 333 l 653 0 l 65 0 m 846 716 l 81 716 l 81 17 l 650 17 l 963 336 l 963 597 l 846 716 m 81 733 l 846 733 l 963 852 l 963 969 l 650 1288 l 81 1288 l 81 733 "},"…":{x_min:0,x_max:0,ha:1361},"?":{x_min:64.84375,x_max:980,ha:1045,o:"m 530 333 l 514 333 l 514 733 l 963 733 l 963 1288 l 64 1288 l 64 1305 l 980 1305 l 980 716 l 530 716 l 530 333 m 413 197 l 413 17 l 636 17 l 636 197 l 413 197 m 397 216 l 653 216 l 653 0 l 397 0 l 397 216 "},H:{x_min:65,x_max:980,ha:1045,o:"m 980 1305 l 980 0 l 963 0 l 963 716 l 81 716 l 81 0 l 65 0 l 65 1305 l 81 1305 l 81 733 l 963 733 l 963 1305 l 980 1305 "},î:{x_min:0,x_max:0,ha:1361},c:{x_min:65,x_max:980.15625,ha:1045,o:"m 81 17 l 980 17 l 980 0 l 65 0 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 17 "},"¶":{x_min:0,x_max:0,ha:1361},"−":{x_min:0,x_max:0,ha:1361},"•":{x_min:0,x_max:0,ha:1361},"¥":{x_min:0,x_max:0,ha:1361},"(":{x_min:196,x_max:849.34375,ha:1045,o:"m 212 17 l 849 17 l 849 0 l 196 0 l 196 1305 l 849 1305 l 849 1288 l 212 1288 l 212 17 "},U:{x_min:65,x_max:980,ha:1045,o:"m 963 1305 l 980 1305 l 980 0 l 65 0 l 65 1305 l 81 1305 l 81 17 l 963 17 l 963 1305 "},Ñ:{x_min:0,x_max:0,ha:1361},F:{x_min:65,x_max:980.15625,ha:1045,o:"m 65 0 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 733 l 980 733 l 980 716 l 81 716 l 81 0 l 65 0 "},"­":{x_min:0,x_max:0,ha:1361},":":{x_min:441,x_max:697,ha:1045,o:"m 457 714 l 457 533 l 680 533 l 680 714 l 457 714 m 441 733 l 697 733 l 697 516 l 441 516 l 441 733 m 457 197 l 457 17 l 680 17 l 680 197 l 457 197 m 441 216 l 697 216 l 697 0 l 441 0 l 441 216 "},Û:{x_min:0,x_max:0,ha:1361},"*":{x_min:294,x_max:751,ha:1045,o:"m 294 716 l 294 733 l 514 733 l 294 1024 l 311 1024 l 517 753 l 517 955 l 534 955 l 534 753 l 733 1024 l 751 1024 l 537 733 l 751 733 l 751 716 l 537 716 l 751 372 l 733 372 l 534 698 l 534 489 l 517 489 l 517 698 l 311 372 l 294 372 l 514 716 l 294 716 "},"†":{x_min:0,x_max:0,ha:1361},"°":{x_min:0,x_max:0,ha:1361},V:{x_min:65.125,x_max:980.296875,ha:1045,o:"m 958 1305 l 980 1305 l 528 0 l 511 0 l 65 1305 l 87 1305 l 519 25 l 958 1305 "},å:{x_min:0,x_max:0,ha:1361}," ":{x_min:0,x_max:0,ha:1361},0:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 980 1305 l 980 0 l 65 0 m 81 1288 l 81 55 l 963 1288 l 81 1288 m 81 17 l 962 17 l 962 1244 l 81 17 "},"”":{x_min:0,x_max:0,ha:1361},"¾":{x_min:0,x_max:0,ha:1361},"@":{x_min:128,x_max:914,ha:1045,o:"m 797 706 l 797 823 l 522 955 l 253 823 l 253 706 l 797 706 m 814 363 l 898 363 l 898 1043 l 144 1043 l 144 256 l 914 256 l 914 243 l 128 243 l 128 1055 l 914 1055 l 914 350 l 797 350 l 797 692 l 253 692 l 253 350 l 236 350 l 236 832 l 522 972 l 814 832 l 814 363 "},ö:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 980 1305 l 980 0 l 65 0 m 963 17 l 963 1288 l 81 1288 l 81 17 l 963 17 m 731 1525 l 980 1525 l 980 1508 l 731 1508 l 731 1525 m 65 1525 l 314 1525 l 314 1508 l 65 1508 l 65 1525 "},i:{x_min:65,x_max:980,ha:1045,o:"m 528 1288 l 528 17 l 980 17 l 980 0 l 65 0 l 65 17 l 511 17 l 511 1288 l 65 1288 l 65 1305 l 980 1305 l 980 1288 l 528 1288 "},Õ:{x_min:0,x_max:0,ha:1361},þ:{x_min:0,x_max:0,ha:1361},"]":{x_min:196.3125,x_max:849.609375,ha:1046,o:"m 833 1288 l 196 1288 l 196 1305 l 849 1305 l 849 0 l 196 0 l 196 17 l 833 17 l 833 1288 "},m:{x_min:65,x_max:980,ha:1045,o:"m 519 716 l 81 1288 l 81 0 l 65 0 l 65 1305 l 86 1305 l 519 738 l 958 1305 l 980 1305 l 980 0 l 963 0 l 963 1288 l 519 716 "},8:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 980 1305 l 980 0 l 65 0 m 81 1288 l 81 733 l 963 733 l 963 1288 l 81 1288 m 81 716 l 81 17 l 963 17 l 963 716 l 81 716 "},R:{x_min:65,x_max:980,ha:1045,o:"m 963 733 l 963 1288 l 81 1288 l 81 733 l 963 733 m 980 716 l 86 716 l 980 0 l 955 0 l 81 697 l 81 0 l 65 0 l 65 1305 l 980 1305 l 980 716 "},á:{x_min:0,x_max:0,ha:1361},"×":{x_min:0,x_max:0,ha:1361},o:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 980 1305 l 980 0 l 65 0 m 963 17 l 963 1288 l 81 1288 l 81 17 l 963 17 "},5:{x_min:65,x_max:980,ha:1045,o:"m 963 17 l 963 716 l 65 716 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 733 l 980 733 l 980 0 l 65 0 l 65 17 l 963 17 "},õ:{x_min:0,x_max:0,ha:1361},7:{x_min:65.453125,x_max:980.609375,ha:1046,o:"m 964 0 l 964 1288 l 65 1288 l 65 1305 l 980 1305 l 980 0 l 964 0 "},K:{x_min:65,x_max:980.15625,ha:1045,o:"m 955 1305 l 980 1305 l 86 716 l 980 0 l 955 0 l 81 699 l 81 0 l 65 0 l 65 1305 l 81 1305 l 81 732 l 955 1305 "},",":{x_min:435,x_max:697,ha:1045,o:"m 451 197 l 451 -83 l 588 -83 l 588 17 l 680 17 l 680 197 l 451 197 m 435 216 l 697 216 l 697 0 l 604 0 l 604 -100 l 435 -100 l 435 216 "},d:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 552 1305 l 980 869 l 980 434 l 554 0 l 65 0 m 963 863 l 546 1288 l 81 1288 l 81 17 l 548 17 l 963 440 l 963 863 "},"¨":{x_min:0,x_max:0,ha:1361},Ô:{x_min:0,x_max:0,ha:1361},E:{x_min:65,x_max:980.15625,ha:1045,o:"m 81 716 l 81 17 l 980 17 l 980 0 l 65 0 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 733 l 980 733 l 980 716 l 81 716 "},Y:{x_min:65.375,x_max:980.546875,ha:1046,o:"m 958 1305 l 980 1305 l 528 716 l 528 0 l 512 0 l 512 716 l 65 1305 l 87 1305 l 519 738 l 958 1305 "},'"':{x_min:435,x_max:697,ha:1045,o:"m 451 1285 l 451 1005 l 588 1005 l 588 1105 l 680 1105 l 680 1285 l 451 1285 m 435 1305 l 697 1305 l 697 1088 l 604 1088 l 604 988 l 435 988 l 435 1305 "},"‹":{x_min:261.1875,x_max:668.59375,ha:1045,o:"m 668 1038 l 280 724 l 668 408 l 649 408 l 261 724 l 649 1038 l 668 1038 "},ê:{x_min:0,x_max:0,ha:1361},Ï:{x_min:37,x_max:1004.421875,ha:1046,o:"m 37 253 l 37 669 l 261 911 l 517 664 l 763 901 l 1004 652 l 860 415 l 996 238 l 628 35 l 252 35 l 37 253 m 264 55 l 627 55 l 966 242 l 835 417 l 977 646 l 762 869 l 518 632 l 264 879 l 64 654 l 64 257 l 264 55 "},"„":{x_min:0,x_max:0,ha:1361},Â:{x_min:0,x_max:0,ha:1361},Í:{x_min:6.640625,x_max:1019.5,ha:1045,o:"m 133 208 l 254 247 l 518 34 l 898 193 l 980 433 l 618 562 l 790 694 l 532 802 l 192 741 l 149 678 l 405 473 l 41 381 l 133 208 m 118 177 l 6 397 l 362 482 l 114 678 l 175 759 l 533 829 l 835 696 l 659 568 l 1019 441 l 915 178 l 514 6 l 239 222 l 118 177 "},"´":{x_min:0,x_max:0,ha:1361},ì:{x_min:0,x_max:0,ha:1361},"±":{x_min:65,x_max:980,ha:1045,o:"m 514 716 l 65 716 l 65 732 l 514 732 l 514 1175 l 531 1175 l 531 732 l 980 732 l 980 716 l 531 716 l 531 241 l 514 241 l 514 716 m 65 99 l 980 99 l 980 83 l 65 83 l 65 99 "},Ú:{x_min:0,x_max:0,ha:1361},"|":{x_min:261,x_max:277.609375,ha:522,o:"m 277 1305 l 277 0 l 261 0 l 261 1305 l 277 1305 "},"§":{x_min:0,x_max:0,ha:1361},Ý:{x_min:0,x_max:0,ha:1361},b:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 653 1305 l 980 972 l 980 849 l 857 724 l 980 600 l 980 333 l 653 0 l 65 0 m 846 716 l 81 716 l 81 17 l 650 17 l 963 336 l 963 597 l 846 716 m 81 733 l 846 733 l 963 852 l 963 969 l 650 1288 l 81 1288 l 81 733 "},q:{x_min:65,x_max:980,ha:1045,o:"m 808 174 l 963 333 l 963 1288 l 81 1288 l 81 17 l 653 17 l 799 166 l 595 374 l 595 391 l 808 174 m 980 0 l 963 0 l 808 158 l 653 0 l 65 0 l 65 1305 l 980 1305 l 980 333 l 816 166 l 980 0 "},Ö:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 980 1305 l 980 0 l 65 0 m 963 17 l 963 1288 l 81 1288 l 81 17 l 963 17 m 731 1525 l 980 1525 l 980 1508 l 731 1508 l 731 1525 m 65 1525 l 314 1525 l 314 1508 l 65 1508 l 65 1525 "},z:{x_min:65,x_max:980,ha:1045,o:"m 84 17 l 980 17 l 980 0 l 65 0 l 65 22 l 958 1288 l 65 1288 l 65 1305 l 980 1305 l 980 1288 l 84 17 "},"™":{x_min:26,x_max:810,ha:1045,o:"m 211 782 l 204 782 l 204 1298 l 26 1298 l 26 1305 l 392 1305 l 392 1298 l 211 1298 l 211 782 m 626 1068 l 451 1298 l 451 783 l 444 783 l 444 1305 l 451 1305 l 626 1075 l 803 1305 l 810 1305 l 810 783 l 803 783 l 803 1298 l 626 1068 "},ã:{x_min:0,x_max:0,ha:1361},æ:{x_min:0,x_max:0,ha:1361},"®":{x_min:128,x_max:914,ha:1045,o:"m 748 744 l 748 931 l 318 931 l 318 744 l 748 744 m 764 731 l 320 731 l 764 486 l 740 486 l 318 718 l 318 486 l 302 486 l 302 944 l 764 944 l 764 731 m 128 350 l 128 1054 l 522 1110 l 914 1054 l 914 350 l 522 297 l 128 350 m 898 364 l 898 1043 l 522 1095 l 144 1043 l 144 364 l 522 313 l 898 364 "},É:{x_min:21.5,x_max:1019.109375,ha:1045,o:"m 485 272 l 88 272 l 88 245 l 379 245 l 485 272 m 54 145 l 177 21 l 888 21 l 993 184 l 777 230 l 729 315 l 54 145 m 21 152 l 319 229 l 72 229 l 72 289 l 537 289 l 741 340 l 797 243 l 1019 197 l 895 0 l 172 0 l 21 152 "},"~":{x_min:0,x_max:0,ha:1361},"³":{x_min:0,x_max:0,ha:1361},"¡":{x_min:0,x_max:0,ha:1361},"[":{x_min:196,x_max:849.34375,ha:1045,o:"m 212 17 l 849 17 l 849 0 l 196 0 l 196 1305 l 849 1305 l 849 1288 l 212 1288 l 212 17 "},L:{x_min:65,x_max:980.15625,ha:1045,o:"m 980 0 l 65 0 l 65 1305 l 81 1305 l 81 17 l 980 17 l 980 0 "}," ":{x_min:0,x_max:0,ha:1045},"%":{x_min:27,x_max:1018,ha:1045,o:"m 27 808 l 27 1277 l 384 1277 l 384 808 l 27 808 m 32 1272 l 32 827 l 377 1272 l 32 1272 m 32 813 l 377 813 l 377 1256 l 32 813 m 661 28 l 661 497 l 1018 497 l 1018 28 l 661 28 m 668 492 l 668 47 l 1011 492 l 668 492 m 668 33 l 1011 33 l 1011 476 l 668 33 m 81 0 l 64 0 l 963 1305 l 979 1305 l 81 0 "},P:{x_min:65,x_max:980,ha:1045,o:"m 963 733 l 963 1288 l 81 1288 l 81 733 l 963 733 m 81 0 l 65 0 l 65 1305 l 980 1305 l 980 716 l 81 716 l 81 0 "},À:{x_min:0,x_max:0,ha:1361},_:{x_min:65,x_max:980,ha:1045,o:"m 65 17 l 980 17 l 980 0 l 65 0 l 65 17 "},ñ:{x_min:0,x_max:0,ha:1361},"+":{x_min:65,x_max:980,ha:1045,o:"m 514 716 l 65 716 l 65 732 l 514 732 l 514 1175 l 531 1175 l 531 732 l 980 732 l 980 716 l 531 716 l 531 241 l 514 241 l 514 716 "},"‚":{x_min:0,x_max:0,ha:1361},"½":{x_min:0,x_max:0,ha:1361},Æ:{x_min:8.265625,x_max:1038.234375,ha:1046,o:"m 438 366 l 438 46 l 662 46 l 662 366 l 550 413 l 438 366 m 662 391 l 556 879 l 438 391 l 550 438 l 662 391 m 684 46 l 997 205 l 684 357 l 684 46 m 1038 205 l 662 5 l 438 5 l 8 205 l 417 382 l 556 972 l 684 382 l 1038 205 m 417 46 l 417 357 l 62 205 l 417 46 "},Ë:{x_min:18.859375,x_max:930,ha:1045,o:"m 41 216 l 276 33 l 609 33 l 759 264 l 908 279 l 908 480 l 569 433 l 690 666 l 650 716 l 317 656 l 317 433 l 108 477 l 41 216 m 18 212 l 90 503 l 292 462 l 292 674 l 658 738 l 713 670 l 607 462 l 930 506 l 930 252 l 769 252 l 618 11 l 260 11 l 18 212 "},"'":{x_min:435,x_max:697,ha:1045,o:"m 451 1285 l 451 1005 l 588 1005 l 588 1105 l 680 1105 l 680 1285 l 451 1285 m 435 1305 l 697 1305 l 697 1088 l 604 1088 l 604 988 l 435 988 l 435 1305 "},Š:{x_min:0,x_max:0,ha:1361},ª:{x_min:0,x_max:0,ha:1361},Œ:{x_min:0,x_max:0,ha:1361},ð:{x_min:0,x_max:0,ha:1361},T:{x_min:65,x_max:980,ha:1045,o:"m 528 0 l 511 0 l 511 1288 l 65 1288 l 65 1305 l 980 1305 l 980 1288 l 528 1288 l 528 0 "},š:{x_min:0,x_max:0,ha:1361},Þ:{x_min:0,x_max:0,ha:1361},j:{x_min:65.453125,x_max:980.609375,ha:1046,o:"m 534 1288 l 534 1305 l 980 1305 l 980 0 l 494 0 l 65 437 l 87 437 l 498 17 l 964 17 l 964 1288 l 534 1288 "},1:{x_min:512,x_max:528.609375,ha:1046,o:"m 528 1305 l 528 0 l 512 0 l 512 1305 l 528 1305 "},"›":{x_min:261.1875,x_max:668.59375,ha:1045,o:"m 261 1038 l 280 1038 l 668 724 l 280 408 l 261 408 l 649 724 l 261 1038 "},ä:{x_min:65,x_max:980,ha:1045,o:"m 81 994 l 81 733 l 963 733 l 963 994 l 522 1289 l 81 994 m 980 0 l 963 0 l 963 716 l 81 716 l 81 0 l 65 0 l 65 1000 l 522 1305 l 980 1000 l 980 0 m 731 1525 l 980 1525 l 980 1508 l 731 1508 l 731 1525 m 65 1525 l 314 1525 l 314 1508 l 65 1508 l 65 1525 "},"<":{x_min:503.765625,x_max:980.296875,ha:1045,o:"m 958 0 l 503 716 l 958 1305 l 980 1305 l 528 716 l 980 0 l 958 0 "},"£":{x_min:0,x_max:0,ha:1361},"¹":{x_min:0,x_max:0,ha:1361},t:{x_min:65,x_max:980,ha:1045,o:"m 528 0 l 511 0 l 511 1288 l 65 1288 l 65 1305 l 980 1305 l 980 1288 l 528 1288 l 528 0 "},"¬":{x_min:0,x_max:0,ha:1361},ù:{x_min:0,x_max:0,ha:1361},W:{x_min:65,x_max:980,ha:1045,o:"m 525 596 l 963 21 l 963 1304 l 980 1304 l 980 -1 l 963 -1 l 525 570 l 81 0 l 65 0 l 65 1305 l 81 1305 l 81 22 l 525 596 "},ï:{x_min:0,x_max:0,ha:1361},">":{x_min:65.125,x_max:533.671875,ha:1045,o:"m 65 0 l 511 716 l 65 1305 l 87 1305 l 533 716 l 87 0 l 65 0 "},v:{x_min:65.125,x_max:980.296875,ha:1045,o:"m 958 1305 l 980 1305 l 528 0 l 511 0 l 65 1305 l 87 1305 l 519 25 l 958 1305 "},û:{x_min:0,x_max:0,ha:1361},Ò:{x_min:0,x_max:0,ha:1361},"&":{x_min:54.5,x_max:1016.84375,ha:1045,o:"m 148 704 l 379 533 l 291 255 l 521 428 l 754 255 l 665 533 l 897 704 l 610 704 l 521 981 l 433 704 l 148 704 m 54 733 l 410 733 l 521 1080 l 631 733 l 1016 733 l 701 519 l 811 172 l 521 387 l 232 172 l 342 519 l 54 733 "},Ð:{x_min:0,x_max:0,ha:1361},I:{x_min:65,x_max:980,ha:1045,o:"m 528 1288 l 528 17 l 980 17 l 980 0 l 65 0 l 65 17 l 511 17 l 511 1288 l 65 1288 l 65 1305 l 980 1305 l 980 1288 l 528 1288 "},"ˉ":{x_min:0,x_max:0,ha:1361},G:{x_min:65,x_max:980,ha:1045,o:"m 980 1305 l 980 1132 l 963 1132 l 963 1288 l 81 1288 l 81 17 l 963 17 l 963 716 l 292 716 l 292 733 l 980 733 l 980 0 l 65 0 l 65 1305 l 980 1305 "},"`":{x_min:435,x_max:697,ha:1045,o:"m 451 1285 l 451 1005 l 588 1005 l 588 1105 l 680 1105 l 680 1285 l 451 1285 m 435 1305 l 697 1305 l 697 1088 l 604 1088 l 604 988 l 435 988 l 435 1305 "},"·":{x_min:0,x_max:0,ha:1361},r:{x_min:65,x_max:980,ha:1045,o:"m 963 733 l 963 1288 l 81 1288 l 81 733 l 963 733 m 980 716 l 86 716 l 980 0 l 955 0 l 81 697 l 81 0 l 65 0 l 65 1305 l 980 1305 l 980 716 "},"¿":{x_min:0,x_max:0,ha:1361},ý:{x_min:0,x_max:0,ha:1361},x:{x_min:65.125,x_max:980.296875,ha:1045,o:"m 958 0 l 519 696 l 87 0 l 65 0 q 152 139 93 44 l 455 625 q 511 716 509 710 l 65 1305 l 87 1305 l 519 735 l 958 1305 l 980 1305 l 528 716 l 980 0 l 958 0 "},è:{x_min:0,x_max:0,ha:1361},º:{x_min:0,x_max:0,ha:1361},Ø:{x_min:0,x_max:0,ha:1361},μ:{x_min:0,x_max:0,ha:1361},"÷":{x_min:0,x_max:0,ha:1361},h:{x_min:65,x_max:980,ha:1045,o:"m 980 1305 l 980 0 l 963 0 l 963 716 l 81 716 l 81 0 l 65 0 l 65 1305 l 81 1305 l 81 733 l 963 733 l 963 1305 l 980 1305 "},".":{x_min:441,x_max:697,ha:1045,o:"m 457 197 l 457 17 l 680 17 l 680 197 l 457 197 m 441 216 l 697 216 l 697 0 l 441 0 l 441 216 "},";":{x_min:435,x_max:697,ha:1045,o:"m 457 714 l 457 533 l 680 533 l 680 714 l 457 714 m 441 733 l 697 733 l 697 516 l 441 516 l 441 733 m 451 197 l 451 -83 l 588 -83 l 588 17 l 680 17 l 680 197 l 451 197 m 435 216 l 697 216 l 697 0 l 604 0 l 604 -100 l 435 -100 l 435 216 "},f:{x_min:65,x_max:980.15625,ha:1045,o:"m 65 0 l 65 1305 l 980 1305 l 980 1288 l 81 1288 l 81 733 l 980 733 l 980 716 l 81 716 l 81 0 l 65 0 "},"“":{x_min:0,x_max:0,ha:1361},A:{x_min:65,x_max:980,ha:1045,o:"m 81 994 l 81 733 l 963 733 l 963 994 l 522 1288 l 81 994 m 980 0 l 963 0 l 963 716 l 81 716 l 81 0 l 65 0 l 65 1000 l 522 1305 l 980 1000 l 980 0 "},6:{x_min:65,x_max:980,ha:1045,o:"m 81 716 l 81 17 l 963 17 l 963 716 l 81 716 m 81 733 l 980 733 l 980 0 l 65 0 l 65 1305 l 81 1305 l 81 733 "},"‘":{x_min:0,x_max:0,ha:1361},O:{x_min:65,x_max:980,ha:1045,o:"m 65 0 l 65 1305 l 980 1305 l 980 0 l 65 0 m 963 17 l 963 1288 l 81 1288 l 81 17 l 963 17 "},n:{x_min:65,x_max:980,ha:1045,o:"m 980 1305 l 980 0 l 963 0 l 963 66 l 81 1221 l 81 0 l 65 0 l 65 1305 l 81 1305 l 81 1243 l 963 88 l 963 1305 l 980 1305 "},3:{x_min:65.453125,x_max:980.609375,ha:1046,o:"m 964 733 l 964 1288 l 65 1288 l 65 1305 l 980 1305 l 980 0 l 65 0 l 65 17 l 964 17 l 964 716 l 65 716 l 65 733 l 964 733 "},9:{x_min:65,x_max:980,ha:1045,o:"m 81 1288 l 81 733 l 963 733 l 963 1288 l 81 1288 m 65 1305 l 980 1305 l 980 0 l 963 0 l 963 716 l 65 716 l 65 1305 "},l:{x_min:65,x_max:980.15625,ha:1045,o:"m 980 0 l 65 0 l 65 1305 l 81 1305 l 81 17 l 980 17 l 980 0 "},"¤":{x_min:0,x_max:0,ha:1361},4:{x_min:65,x_max:980,ha:1045,o:"m 980 1305 l 980 0 l 963 0 l 963 716 l 65 716 l 65 1305 l 81 1305 l 81 733 l 963 733 l 963 1305 l 980 1305 "},p:{x_min:65,x_max:980,ha:1045,o:"m 963 733 l 963 1288 l 81 1288 l 81 733 l 963 733 m 81 0 l 65 0 l 65 1305 l 980 1305 l 980 716 l 81 716 l 81 0 "},"‡":{x_min:0,x_max:0,ha:1361},à:{x_min:0,x_max:0,ha:1361},Ü:{x_min:65,x_max:980,ha:1045,o:"m 963 1305 l 980 1305 l 980 0 l 65 0 l 65 1305 l 81 1305 l 81 17 l 963 17 l 963 1305 m 731 1525 l 980 1525 l 980 1508 l 731 1508 l 731 1525 m 65 1525 l 314 1525 l 314 1508 l 65 1508 l 65 1525 "},ó:{x_min:0,x_max:0,ha:1361}},cssFontWeight:"normal",ascender:1526,underlinePosition:-100,cssFontStyle:"normal",boundingBox:{yMin:-100,xMin:0,yMax:1525,xMax:1038.234375},resolution:1e3,original_font_information:{postscript_name:"VectorBattle",version_string:"1.03",vendor_url:"",full_font_name:"Vector Battle",font_family_name:"Vector Battle",copyright:"© 1999 by ck! -- http://come.to/freakyfonts",description:"",trademark:"ck!, mail: ckrule@geocities.com",designer:"",designer_url:"",unique_font_identifier:"Vector Battle",license_url:"",license_description:"",manufacturer_name:"",font_sub_family_name:"Regular"},descender:-114,familyName:"Vector Battle",lineHeight:1638,underlineThickness:50},k=B,p={32:"space",37:"left",38:"up",39:"right",40:"down",70:"f",71:"g",72:"h",77:"m",80:"p"},u={keyDown:!1};for(const m in p)u[p[m]]=!1;window.addEventListener("keydown",m=>{u.keyDown=!0,m.keyCode in p&&(m.preventDefault(),u[p[m.keyCode]]=!0)});window.addEventListener("keyup",m=>{u.keyDown=!1,m.keyCode in p&&(m.preventDefault(),u[p[m.keyCode]]=!1)});const d=60;class I{constructor(l,i){n(this,"rows");n(this,"columns");n(this,"data");this.rows=l,this.columns=i,this.data=new Array(l);for(let t=0;t<l;t++)this.data[t]=new Array(i)}configure(l,i,t,s){const a=l*Math.PI/180,h=Math.sin(a)*i,_=Math.cos(a)*i;this.set(_,-h,t,h,_,s)}set(...l){let i=0;for(let t=0;t<this.rows;t++)for(let s=0;s<this.columns;s++)this.data[t][s]=l[i],i++}multiply(...l){const i=new Array(this.rows);for(let t=0;t<this.rows;t++){i[t]=0;for(let s=0;s<this.columns;s++)i[t]+=this.data[t][s]*l[s]}return i}}class V{constructor(){n(this,"context");n(this,"matrix",new I(2,3));n(this,"grid");n(this,"canvasWidth",800);n(this,"canvasHeight",600)}}const e=new V;class f{constructor(l,i){n(this,"name");n(this,"points");n(this,"vel");n(this,"acc");n(this,"children",{});n(this,"collidesWith",[]);n(this,"visible",!1);n(this,"reap",!1);n(this,"bridgesH",!0);n(this,"bridgesV",!0);n(this,"x",0);n(this,"y",0);n(this,"rot",0);n(this,"scale",1);n(this,"currentNode",null);n(this,"nextSprite",null);n(this,"transPoints",null);this.name=l,this.points=i,this.vel={x:0,y:0,rot:0},this.acc={x:0,y:0,rot:0}}preMove(l){}postMove(l){}copyState(l){this.visible=l.visible,this.reap=l.reap,this.bridgesH=l.bridgesH,this.bridgesV=l.bridgesV,this.x=l.x,this.y=l.y,this.rot=l.rot,this.scale=l.scale,this.currentNode=l.currentNode,this.nextSprite=l.nextSprite,this.transPoints=l.transPoints}run(l){this.move(l),this.updateGrid(),e.context.save(),this.configureTransform(),this.draw();const i=this.findCollisioncandidates();e.matrix.configure(this.rot,this.scale,this.x,this.y),this.checkCollisionsAgainst(i),e.context.restore(),this.bridgesH&&this.currentNode&&this.currentNode.dupe.horizontal&&(this.x+=this.currentNode.dupe.horizontal,e.context.save(),this.configureTransform(),this.draw(),this.checkCollisionsAgainst(i),e.context.restore(),this.currentNode&&(this.x-=this.currentNode.dupe.horizontal)),this.bridgesV&&this.currentNode&&this.currentNode.dupe.vertical&&(this.y+=this.currentNode.dupe.vertical,e.context.save(),this.configureTransform(),this.draw(),this.checkCollisionsAgainst(i),e.context.restore(),this.currentNode&&(this.y-=this.currentNode.dupe.vertical)),this.bridgesH&&this.bridgesV&&this.currentNode&&this.currentNode.dupe.vertical&&this.currentNode.dupe.horizontal&&(this.x+=this.currentNode.dupe.horizontal,this.y+=this.currentNode.dupe.vertical,e.context.save(),this.configureTransform(),this.draw(),this.checkCollisionsAgainst(i),e.context.restore(),this.currentNode&&(this.x-=this.currentNode.dupe.horizontal,this.y-=this.currentNode.dupe.vertical))}move(l){this.visible&&(this.transPoints=null,this.preMove(l),this.vel.x+=this.acc.x*l,this.vel.y+=this.acc.y*l,this.x+=this.vel.x*l,this.y+=this.vel.y*l,this.rot+=this.vel.rot*l,this.rot>360?this.rot-=360:this.rot<0&&(this.rot+=360),this.postMove(l))}updateGrid(){if(!this.visible)return;let l=Math.floor(this.x/d),i=Math.floor(this.y/d);l=l>=e.grid.length?0:l,i=i>=e.grid[0].length?0:i,l=l<0?e.grid.length-1:l,i=i<0?e.grid[0].length-1:i;const t=e.grid[l][i];t!=this.currentNode&&(this.currentNode&&this.currentNode.leave(this),t.enter(this),this.currentNode=t),u.g&&this.currentNode&&(e.context.lineWidth=3,e.context.strokeStyle="green",e.context.strokeRect(l*d+2,i*d+2,d-4,d-4),e.context.strokeStyle="black",e.context.lineWidth=1)}configureTransform(){if(!this.visible)return;const l=this.rot*Math.PI/180;e.context.translate(this.x,this.y),e.context.rotate(l),e.context.scale(this.scale,this.scale)}draw(){if(this.visible){e.context.lineWidth=1/this.scale;for(const l in this.children)this.children[l].draw();e.context.beginPath(),e.context.moveTo(this.points[0],this.points[1]);for(let l=1;l<this.points.length/2;l++){const i=l*2,t=i+1;e.context.lineTo(this.points[i],this.points[t])}e.context.closePath(),e.context.stroke()}}findCollisioncandidates(){if(!this.visible||!this.currentNode)return[];const l=this.currentNode,i=[];function t(s){s&&i.push(s)}return t(l.nextSprite),t(l.north.nextSprite),t(l.south.nextSprite),t(l.east.nextSprite),t(l.west.nextSprite),t(l.north.east.nextSprite),t(l.north.west.nextSprite),t(l.south.east.nextSprite),t(l.south.west.nextSprite),i}checkCollisionsAgainst(l){for(let i=0;i<l.length;i++){let t=l[i];do this.checkCollision(t),t=t.nextSprite;while(t)}}checkCollision(l){if(!l.visible||this==l||this.collidesWith.indexOf(l.name)==-1)return;const i=l.transformedPoints();let t,s;const a=i.length/2;for(let h=0;h<a;h++)if(t=i[h*2],s=i[h*2+1],e.context.isPointInPath(t,s)){l.collision(this),this.collision(l);return}}pointInPolygon(l,i){const t=this.transformedPoints();let s=2,a,h,_=!1;for(let c=0;c<t.length;c+=2)a=t[c+1],h=t[s+1],(a<i&&h>=i||h<i&&a>=i)&&t[c]+(i-a)/(h-a)*(t[s]-t[c])<l&&(_=!_),s+=2,s==t.length&&(s=0);return _}collision(l){}die(){this.visible=!1,this.reap=!0,this.currentNode&&(this.currentNode.leave(this),this.currentNode=null)}transformedPoints(){if(this.transPoints)return this.transPoints;const l=new Array(this.points.length);e.matrix.configure(this.rot,this.scale,this.x,this.y);for(let i=0;i<this.points.length/2;i++){const t=i*2,s=t+1,a=e.matrix.multiply(this.points[t],this.points[s],1);l[t]=a[0],l[s]=a[1]}return this.transPoints=l,l}isClear(){if(this.collidesWith.length==0)return!0;let l=this.currentNode;if(l==null){let s=Math.floor(this.x/d),a=Math.floor(this.y/d);s=s>=e.grid.length?0:s,a=a>=e.grid[0].length?0:a,l=e.grid[s][a]}const i=this.collidesWith;function t(s){return s.isEmpty(i)}return t(l)&&t(l.north)&&t(l.south)&&t(l.east)&&t(l.west)&&t(l.north.east)&&t(l.north.west)&&t(l.south.east)&&t(l.south.west)}wrapPostMove(){this.x>e.canvasWidth?this.x=0:this.x<0&&(this.x=e.canvasWidth),this.y>e.canvasHeight?this.y=0:this.y<0&&(this.y=e.canvasHeight)}}class C extends f{constructor(){super("ship",[-5,4,0,-12,5,4]);n(this,"bullets",[]);n(this,"bulletCounter",0);n(this,"collidesWith",["asteroid","bigalien","alienbullet"]);this.children.exhaust=new f("exhaust",[-3,6,0,11,3,6])}postMove(){this.wrapPostMove()}preMove(i){if(u.left?this.vel.rot=-6:u.right?this.vel.rot=6:this.vel.rot=0,u.up){const t=(this.rot-90)*Math.PI/180;this.acc.x=.5*Math.cos(t),this.acc.y=.5*Math.sin(t),this.children.exhaust.visible=Math.random()>.1}else this.acc.x=0,this.acc.y=0,this.children.exhaust.visible=!1;if(this.bulletCounter>0&&(this.bulletCounter-=i),u.space&&this.bulletCounter<=0){this.bulletCounter=10;for(let t=0;t<this.bullets.length;t++)if(!this.bullets[t].visible){v.laser();const s=this.bullets[t],a=(this.rot-90)*Math.PI/180,h=Math.cos(a),_=Math.sin(a);s.x=this.x+h*4,s.y=this.y+_*4,s.vel.x=6*h+this.vel.x,s.vel.y=6*_+this.vel.y,s.visible=!0;break}}Math.sqrt(this.vel.x*this.vel.x+this.vel.y*this.vel.y)>8&&(this.vel.x*=.95,this.vel.y*=.95)}collision(i){v.explosion(),x.explosionAt(i.x,i.y),x.fsm.state=x.fsm.player_died,this.visible=!1,this.currentNode.leave(this),this.currentNode=null,x.lives--}}class z extends C{constructor(){super(),this.scale=.6,this.visible=!0,delete this.children.exhaust}preMove(l){}}class L extends f{constructor(){super("bigalien",[-20,0,-12,-4,12,-4,20,0,12,4,-12,4,-20,0,20,0]);n(this,"collidesWith",["asteroid","ship","bullet"]);n(this,"bridgesH",!1);n(this,"bullets",[]);n(this,"bulletCounter",0);this.children.top=new f("bigalien_top",[-8,-4,-6,-6,6,-6,8,-4]),this.children.top.visible=!0,this.children.bottom=new f("bigalien_top",[8,4,6,6,-6,6,-8,4]),this.children.bottom.visible=!0}newPosition(){Math.random()<.5?(this.x=-20,this.vel.x=1.5):(this.x=e.canvasWidth+20,this.vel.x=-1.5),this.y=Math.random()*e.canvasHeight}setup(){this.newPosition();for(let i=0;i<3;i++){const t=new G;this.bullets.push(t)}}preMove(i){const t=this.currentNode;if(t==null)return;function s(_){return _.nextSprite?1:0}const a=s(t.north)+s(t.north.east)+s(t.north.west),h=s(t.south)+s(t.south.east)+s(t.south.west);if(a>h?this.vel.y=1:a<h?this.vel.y=-1:Math.random()<.01&&(this.vel.y=-this.vel.y),this.bulletCounter-=i,this.bulletCounter<=0){this.bulletCounter=22;for(let _=0;_<this.bullets.length;_++)if(!this.bullets[_].visible){const c=this.bullets[_],g=2*Math.PI*Math.random(),b=Math.cos(g),y=Math.sin(g);c.x=this.x,c.y=this.y,c.vel.x=6*b,c.vel.y=6*y,c.visible=!0,v.laser();break}}}collision(i){i.name=="bullet"&&(x.score+=200),v.explosion(),x.explosionAt(i.x,i.y),this.visible=!1,this.newPosition()}postMove(){this.y>e.canvasHeight?this.y=0:this.y<0&&(this.y=e.canvasHeight),(this.vel.x>0&&this.x>e.canvasWidth+20||this.vel.x<0&&this.x<-20)&&(this.visible=!1,this.newPosition())}}class H extends f{constructor(i,t){super(i,t);n(this,"time",0);n(this,"bridgesH",!1);n(this,"bridgesV",!1);n(this,"postMove",this.wrapPostMove)}configureTransform(){}draw(){this.visible&&(e.context.save(),e.context.lineWidth=2,e.context.beginPath(),e.context.moveTo(this.x-1,this.y-1),e.context.lineTo(this.x+1,this.y+1),e.context.moveTo(this.x+1,this.y-1),e.context.lineTo(this.x-1,this.y+1),e.context.stroke(),e.context.restore())}preMove(i){this.visible&&(this.time+=i),this.time>50&&(this.visible=!1,this.time=0)}collision(i){this.time=0,this.visible=!1,this.currentNode.leave(this),this.currentNode=null}transformedPoints(){return[this.x,this.y]}}class q extends H{constructor(){super("bullet",[0,0])}}class G extends H{constructor(){super("alienbullet")}draw(){this.visible&&(e.context.save(),e.context.lineWidth=2,e.context.beginPath(),e.context.moveTo(this.x,this.y),e.context.lineTo(this.x-this.vel.x,this.y-this.vel.y),e.context.stroke(),e.context.restore())}}class W extends f{constructor(){super("asteroid",[-10,0,-5,7,-3,4,1,10,5,4,10,0,5,-6,2,-10,-4,-10,-4,-5]);n(this,"visible",!0);n(this,"scale",6);n(this,"postMove",this.wrapPostMove);n(this,"collidesWith",["ship","bullet","bigalien","alienbullet"])}copy(){const i=new W;return i.copyState(this),i}collision(i){if(v.explosion(),i.name=="bullet"&&(x.score+=120/this.scale),this.scale/=3,this.scale>.5)for(let t=0;t<3;t++){const s=this.copy();s.vel.x=Math.random()*6-3,s.vel.y=Math.random()*6-3,Math.random()>.5&&s.points.reverse(),s.vel.rot=Math.random()*2-1,s.move(s.scale*3),x.sprites.push(s)}x.explosionAt(i.x,i.y),this.die()}}class O extends f{constructor(){super("explosion");n(this,"bridgesH",!1);n(this,"bridgesV",!1);n(this,"lines",[]);for(let i=0;i<5;i++){const t=2*Math.PI*Math.random(),s=Math.cos(t),a=Math.sin(t);this.lines.push([s,a,s*2,a*2])}}draw(){if(this.visible){e.context.save(),e.context.lineWidth=1/this.scale,e.context.beginPath();for(let i=0;i<5;i++){const t=this.lines[i];e.context.moveTo(t[0],t[1]),e.context.lineTo(t[2],t[3])}e.context.stroke(),e.context.restore()}}preMove(i){this.visible&&(this.scale+=i),this.scale>8&&this.die()}}class F{constructor(){n(this,"north",null);n(this,"south",null);n(this,"east",null);n(this,"west",null);n(this,"nextSprite",null);n(this,"dupe",{horizontal:null,vertical:null})}enter(l){l.nextSprite=this.nextSprite,this.nextSprite=l}leave(l){let i=this;for(;i&&i.nextSprite!=l;)i=i.nextSprite;i&&(i.nextSprite=l.nextSprite,l.nextSprite=null)}isEmpty(l){let i=this;for(;i.nextSprite;)if(i=i.nextSprite,i.visible&&l.indexOf(i.name)!=-1)return!1;return!0}}class j{renderGlyph(l){const i=k.glyphs[l];if(i.o){let t;i.cached_outline?t=i.cached_outline:(t=i.o.split(" "),i.cached_outline=t);const s=t.length;for(let a=0;a<s;)switch(t[a++]){case"m":e.context.moveTo(t[a++],t[a++]);break;case"l":e.context.lineTo(t[a++],t[a++]);break;case"q":{const _=t[a++],c=t[a++];e.context.quadraticCurveTo(t[a++],t[a++],_,c)}break;case"b":{const _=t[a++],c=t[a++];e.context.bezierCurveTo(t[a++],t[a++],t[a++],t[a++],_,c)}break}}i.ha&&e.context.translate(i.ha,0)}renderText(l,i,t,s){e.context.save(),e.context.translate(t,s);const a=i*72/(k.resolution*100);e.context.scale(a,-1*a),e.context.beginPath();const h=l.split(""),_=h.length;for(let c=0;c<_;c++)this.renderGlyph(h[c]);e.context.fill(),e.context.restore()}}const w=new j;class N{constructor(){n(this,"laserWav");n(this,"explosionWav");n(this,"muted",!0);this.laserWav=N.load("39459__THE_bizniss__laser.wav"),this.explosionWav=N.load("51467__smcameron__missile_explosion.wav")}static load(l){const i=new Audio(l);return i.load(),i}laser(){this.play(this.laserWav)}explosion(){this.play(this.explosionWav)}play(l){this.muted||l.play()}}const v=new N;class R{constructor(){n(this,"score",0);n(this,"totalAsteroids",5);n(this,"lives",0);n(this,"sprites",[]);n(this,"ship");n(this,"bigAlien");n(this,"nextBigAlienTime",null);n(this,"fsm",new K);this.ship=new C,this.ship.x=e.canvasWidth/2,this.ship.y=e.canvasHeight/2,this.sprites.push(this.ship);for(let l=0;l<10;l++){const i=new q;this.ship.bullets.push(i),this.sprites.push(i)}this.bigAlien=new L,this.bigAlien.setup(),this.bigAlien.bullets.forEach(l=>this.sprites.push(l)),this.sprites.push(this.bigAlien)}spawnAsteroids(l){l||(l=this.totalAsteroids);for(let i=0;i<l;i++){const t=new W;for(t.x=Math.random()*e.canvasWidth,t.y=Math.random()*e.canvasHeight;!t.isClear();)t.x=Math.random()*e.canvasWidth,t.y=Math.random()*e.canvasHeight;t.vel.x=Math.random()*4-2,t.vel.y=Math.random()*4-2,Math.random()>.5&&t.points.reverse(),t.vel.rot=Math.random()*2-1,x.sprites.push(t)}}explosionAt(l,i){const t=new O;t.x=l,t.y=i,t.visible=!0,this.sprites.push(t)}}class K{constructor(){n(this,"state",this.boot);n(this,"timer",null)}boot(){x.spawnAsteroids(5),this.state=this.waiting}waiting(){w.renderText("Press Space to Start",36,e.canvasWidth/2-270,e.canvasHeight/2),u.space&&(u.space=!1,this.state=this.start)}start(){for(let l=0;l<x.sprites.length;l++)x.sprites[l].name=="asteroid"?x.sprites[l].die():(x.sprites[l].name=="bullet"||x.sprites[l].name=="bigalien")&&(x.sprites[l].visible=!1);x.score=0,x.lives=2,x.totalAsteroids=2,x.spawnAsteroids(),x.nextBigAlienTime=Date.now()+3e4+3e4*Math.random(),this.state=this.spawn_ship}spawn_ship(){x.ship.x=e.canvasWidth/2,x.ship.y=e.canvasHeight/2,x.ship.isClear()&&(x.ship.rot=0,x.ship.vel.x=0,x.ship.vel.y=0,x.ship.visible=!0,this.state=this.run)}run(){let l;for(l=0;l<x.sprites.length&&x.sprites[l].name!="asteroid";l++);l==x.sprites.length&&(this.state=this.new_level),!x.bigAlien.visible&&Date.now()>x.nextBigAlienTime&&(x.bigAlien.visible=!0,x.nextBigAlienTime=Date.now()+3e4*Math.random())}new_level(){this.timer==null&&(this.timer=Date.now()),Date.now()-this.timer>1e3&&(this.timer=null,x.totalAsteroids++,x.totalAsteroids>12&&(x.totalAsteroids=12),x.spawnAsteroids(),this.state=this.run)}player_died(){x.lives<0?this.state=this.end_game:(this.timer==null&&(this.timer=Date.now()),Date.now()-this.timer>1e3&&(this.timer=null,this.state=this.spawn_ship))}end_game(){w.renderText("GAME OVER",50,e.canvasWidth/2-160,e.canvasHeight/2+10),this.timer==null&&(this.timer=Date.now()),Date.now()-this.timer>5e3&&(this.timer=null,this.state=this.waiting)}execute(){this.state()}}const x=new R;function U(){const m=document.getElementById("canvas");e.canvasWidth=m.width,e.canvasHeight=m.height;const l=m.getContext("2d");e.context=l;const i=Math.round(e.canvasWidth/d),t=Math.round(e.canvasHeight/d),s=new Array(i);e.grid=s;for(let r=0;r<i;r++){s[r]=new Array(t);for(let o=0;o<t;o++)s[r][o]=new F}for(let r=0;r<i;r++)for(let o=0;o<t;o++){const M=s[r][o];M.north=s[r][o==0?t-1:o-1],M.south=s[r][o==t-1?0:o+1],M.west=s[r==0?i-1:r-1][o],M.east=s[r==i-1?0:r+1][o]}for(let r=0;r<i;r++)s[r][0].dupe.vertical=e.canvasHeight,s[r][t-1].dupe.vertical=-e.canvasHeight;for(let r=0;r<t;r++)s[0][r].dupe.horizontal=e.canvasWidth,s[i-1][r].dupe.horizontal=-e.canvasWidth;const a=new z;let h=!1,_=!1,c=0,g=0,b=0,y=Date.now(),A,P,T;function S(){if(l.clearRect(0,0,e.canvasWidth,e.canvasHeight),x.fsm.execute(),u.g){l.beginPath();for(let o=0;o<i;o++)l.moveTo(o*d,0),l.lineTo(o*d,e.canvasHeight);for(let o=0;o<t;o++)l.moveTo(0,o*d),l.lineTo(e.canvasWidth,o*d);l.closePath(),l.stroke()}A=Date.now(),P=A-y,y=A,T=P/30;for(let o=0;o<x.sprites.length;o++)x.sprites[o].run(T),x.sprites[o].reap&&(x.sprites[o].reap=!1,x.sprites.splice(o,1),o--);const r=""+x.score;w.renderText(r,18,e.canvasWidth-14*r.length,20);for(let o=0;o<x.lives;o++)l.save(),a.x=e.canvasWidth-8*(o+1),a.y=32,a.configureTransform(),a.draw(),l.restore();_&&w.renderText(""+c,24,e.canvasWidth-38,e.canvasHeight-2),g++,b+=P,b>1e3&&(b-=1e3,c=g,g=0),h?w.renderText("PAUSED",72,e.canvasWidth/2-160,120):requestAnimationFrame(S)}S(),window.addEventListener("keydown",r=>{switch(p[r.keyCode]){case"f":_=!_;break;case"p":h=!h,h||(y=Date.now(),S());break;case"m":v.muted=!v.muted;break}})}U();
